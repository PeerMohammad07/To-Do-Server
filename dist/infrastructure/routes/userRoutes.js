"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const userController_1 = __importDefault(require("../../adapters/controllers/userController"));
const userUseCase_1 = __importDefault(require("../../userCases/userUseCase"));
const userRepository_1 = __importDefault(require("../../adapters/repository/userRepository"));
const userModel_1 = __importDefault(require("../model/userModel"));
const jwtService_1 = __importDefault(require("../utils/jwtService"));
const hashingService_1 = __importDefault(require("../utils/hashingService"));
const taskUseCase_1 = __importDefault(require("../../userCases/taskUseCase"));
const taskRepository_1 = __importDefault(require("../../adapters/repository/taskRepository"));
const taskModel_1 = __importDefault(require("../model/taskModel"));
const taskController_1 = __importDefault(require("../../adapters/controllers/taskController"));
const userAuth_1 = __importDefault(require("../middleware/userAuth"));
const userRouter = express_1.default.Router();
const userRepository = new userRepository_1.default(userModel_1.default);
const JwtService = new jwtService_1.default();
const HashingService = new hashingService_1.default();
const userUseCase = new userUseCase_1.default(userRepository, HashingService, JwtService);
const userController = new userController_1.default(userUseCase);
const taskRepository = new taskRepository_1.default(taskModel_1.default);
const taskUseCase = new taskUseCase_1.default(userRepository, taskRepository);
const taskController = new taskController_1.default(taskUseCase);
userRouter.post("/auth/login", userController.login);
userRouter.post("/auth/register", userController.register);
userRouter.post("/auth/logout", userController.logout);
userRouter.get("/tasks", userAuth_1.default, taskController.getTasks);
userRouter.post("/tasks", userAuth_1.default, taskController.addTask);
userRouter.put("/tasks/:id", userAuth_1.default, taskController.editTask);
userRouter.delete("/tasks/:id", userAuth_1.default, taskController.deleteTask);
exports.default = userRouter;
